<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <title>Teste</title>
</head>
<body>
  <h3 id="texto"></h3>
  <button onclick="falar()">Falar</button>
  <button onclick="stopFala()">pausarFala</button>
  <button onclick="escutar()">Escutar</button>
  <button onclick="pausar()">pausar</button>
  
  <script>
    const falar = () => {
      const recognition = new webkitSpeechRecognition();
      recognition.interimResults = true
      recognition.lang = "pt-BR"
      recognition.continuous = false
      recognition.start()
      recognition.onresult = (event) => {
        for (let i = event.resultIndex; i < event.results.length; i++) {
          if(event.results[i].isFinal){

           let texto = document.getElementById('texto').innerText = `${event.results[i][0].transcript.trim()}`
            robo(texto)
          }
          
        }
      }
      
    }
   
    const stopFala = () => {
      const recognition = new webkitSpeechRecognition();
      recognition.stop()
    }

    const escutar = (cond) => {
      const reprodutor = speechSynthesis
      const reproduzir = new SpeechSynthesisUtterance();
      reproduzir.lang = "pt-BR"
      reproduzir.pitch = 2
      reproduzir.text = cond
      speechSynthesis.speak(reproduzir);
    }

    const pausar = () => {
      const reprodutor = speechSynthesis
      reprodutor.cancel()
    }

    const robo = (texto) => {
      console.log(texto)
      if(texto === "Ol√°"){
        escutar("HEEE")
      }
    }
  </script>
</body>
</html>